(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/LIKEMINDED_HEADING_LOGOV3.4f6ae20e.png"},126:function(e,t,a){e.exports=a.p+"static/media/home-page-people.dc7c90bb.png"},127:function(e,t,a){e.exports=a.p+"static/media/LogoandSlogan.c5495f04.png"},144:function(e,t,a){e.exports=a(254)},149:function(e,t,a){},197:function(e,t,a){},248:function(e,t,a){},250:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(13),s=a.n(l),c=(a(149),a(15)),i=a(16),o=a(21),m=a(17),u=a(20),d=(a(97),"http://localhost:8080"),p="accessToken",h=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(p)&&t.append("Authorization","Bearer "+localStorage.getItem(p));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};function g(e){return h({url:d+"/api/auth/login",method:"POST",body:JSON.stringify(e)})}var E=a(262),v=a(94),f=a(43),b=a.n(f),k=a(61),N=a(31),O=a(11),j=a(62),S=a(123),y=a.n(S),w=a(88),x=a.n(w),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.onLogOut()},a.state={isOpen:!1},a.toggle=a.toggle.bind(Object(N.a)(Object(N.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(O.f,{expand:"md"},r.a.createElement(O.g,{tag:j.a,to:"/"},r.a.createElement("img",{src:y.a,height:"50"})),r.a.createElement(O.h,{onClick:this.toggle}),r.a.createElement(O.b,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(O.c,{className:"ml-auto",navbar:!0},r.a.createElement(O.d,null,r.a.createElement(O.e,{tag:j.a,to:"/events"},r.a.createElement("span",{id:"navbar-link"},"\xdcRITUSED"))),r.a.createElement("img",{src:x.a}),r.a.createElement(O.d,null,r.a.createElement(O.e,{href:"http://localhost:3000"},r.a.createElement("span",{id:"navbar-link"},"GRUPID"))),r.a.createElement("img",{src:x.a}),r.a.createElement(O.d,null,r.a.createElement(O.e,{href:"http://localhost:3000"},r.a.createElement("span",{id:"navbar-link"},"LEIA INIMESI"))),console.log("authenticated:"+this.props.isAuthenticated),this.props.isAuthenticated?r.a.createElement(O.d,null,r.a.createElement(O.e,{href:"#",onClick:this.handleLogout},r.a.createElement("span",{id:"navbar-link"},"LOGI V\xc4LJA"))):r.a.createElement(O.d,null,r.a.createElement(O.e,{tag:j.a,to:"/login"},r.a.createElement("span",{id:"navbar-link"},"SISENE"))))))}}]),t}(n.Component),A=a(261),C=a(87),I=a(126),P=a.n(I),T=a(127),U=a.n(T),D=a(63),F=a.n(D),K=a(25),z=a.n(K),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!0,isAuthenticated:!1,user:void 0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(z.a,{backgroundColor:"#eee2dc"},r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h1",{className:"my-4",color:"#9c3159"},"Tere tulemast!"),r.a.createElement("img",{src:P.a,width:"254"}),r.a.createElement("p",null),r.a.createElement("div",null,'"Tabletop" m\xe4ngud ehk lauapealsed m\xe4ngud h\xf5lmavad endas igasugu m\xe4nge, mida t\xfc\xfcpiliselt m\xe4ngitakse mitmekesi laua \xfcmber.',r.a.createElement("p",null),'Antud veebilehel on v\xf5imalik leida erinevaid "tabletop" temaatilisi \xfcritusi, korraldada nii \xfchekordseid kui ka korduvaid \xfcritusi, leida m\xe4ngukaaslasi ning moodustada gruppe.',r.a.createElement("p",null),"Head m\xe4ngimist!")),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("img",{className:"img-fluid",src:U.a}),r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide my-4","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner",role:"listbox"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{className:"d-block img-fluid",src:"http://placehold.it/900x350",alt:"First slide"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block img-fluid",src:"http://placehold.it/900x350",alt:"Second slide"})),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block img-fluid",src:"http://placehold.it/900x350",alt:"Third slide"}))),r.a.createElement("a",{class:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{class:"sr-only"},"Previous")),r.a.createElement("a",{class:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{class:"sr-only"},"Next"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 col-md-6 mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 col-md-4"},r.a.createElement("h4",{className:"card-title"},"Spirit Island - Jagged Earth kickstarter on alanud"),r.a.createElement("h5",null,"22/05/2018"),r.a.createElement("img",{src:F.a,width:"200"})),r.a.createElement("div",{className:"col-6 col-md-8"},r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.",r.a.createElement("p",null),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.",r.a.createElement("p",null),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.",r.a.createElement("p",null),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo commodo. Proin sodales pulvinar sic tempor. Sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla luctus pharetra vulputate, felis tellus mollis orci, sed rhoncus pronin sapien nunc accuan eget.")))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606")))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{class:"card-img-top",src:"http://placehold.it/700x400",alt:""})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},r.a.createElement("a",{href:"#"},"Item Two")),r.a.createElement("h5",null,"$24.99"),r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur! Lorem ipsum dolor sit amet.")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606")))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{className:"card-img-top",src:"http://placehold.it/700x400",alt:""})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},r.a.createElement("a",{href:"#"},"Item Three")),r.a.createElement("h5",null,"$24.99"),r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur!")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606")))),r.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{className:"card-img-top",src:"http://placehold.it/700x400",alt:""})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},r.a.createElement("a",{href:"#"},"Item Four")),r.a.createElement("h5",null,"$24.99"),r.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur!")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606"))))))))))}}]),t}(n.Component),R=Object(A.a)(q),G=a(141),H=a(129),J=a(50),M=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).onOptionClick=function(e){a.setState({selectedOption:e})};var n=e.cookies;return a.state={events:[],csrfToken:n.get("XSRF-TOKEN"),isLoading:!0,options:[{option:"K\xf5ik kategooriad"},{option:"Lauam\xe4ngud"},{option:"T\xe4ringum\xe4ngud"},{option:"Rollim\xe4ngud"},{option:"Miniatuurim\xe4ngud"},{option:'"Tile" m\xe4ngud'},{option:"Klassikalised m\xe4ngud"},{option:"Kaardim\xe4ngud"}],selectedOption:{option:"K\xf5ik kategooriad"}},a.remove=a.remove.bind(Object(N.a)(Object(N.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),console.log("Trying to fetch data about events, csrfToken: "+this.state.csrfToken),fetch("https://likeminded-server.herokuapp.com/api/v1/events").then(function(e){return e.json()}).then(function(t){return e.setState({events:t,isLoading:!1})}),console.log(this.state.events),this.setState(this.state.selectedOption={option:"K\xf5ik kategooriad"})}},{key:"remove",value:function(){var e=Object(k.a)(b.a.mark(function e(t){var a=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://likeminded-server.herokuapp.com/api/v1/event/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(G.a)(a.state.events).filter(function(e){return e.id!==t});a.setState({events:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.isLoading,l=t.options,s=t.selectedOption;if(n)return r.a.createElement("p",null,"Loading...");var c=a.map(function(e){var t=e.address,a="",n="",l="",s="";return null!==t&&(a=t.addressLine,n=t.city,l=t.postCode,s=t.countryCode),r.a.createElement("p",null," ",r.a.createElement("div",{class:"card"},r.a.createElement("h4",{id:"panel-heading",class:"card-header"},r.a.createElement("a",{class:"panel-heading",href:"#"},e.name)),r.a.createElement("div",{id:"panel-body",class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col col-lg-2"},r.a.createElement("img",{class:"card-img-top",src:F.a,alt:""})),r.a.createElement("div",{class:"col"},r.a.createElement("p",{class:"card-text"},"Kirjeldus: ",e.description),r.a.createElement("p",{class:"card-text"},"Aadress: ",a," ",n," ",l," ",s)),r.a.createElement("div",{class:"col col-lg-3"},r.a.createElement("p",{class:"card-text text-right"},"Event time and date"),r.a.createElement("div",{class:"event-button-right"},r.a.createElement(O.a,null,"OSALE"))))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("small",{class:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606 Game category thumbnails"))))});return r.a.createElement(z.a,{backgroundColor:"#eee2dc"},r.a.createElement("div",null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-3"},r.a.createElement("h1",{class:"my-4",color:"#9c3159"},"\xdcRITUSED"),r.a.createElement("p",null),r.a.createElement("h3",{class:"my-3"},r.a.createElement("a",{class:"menu-link",href:"#"},"Loo \xfcritus >")),r.a.createElement("p",null),r.a.createElement(H.a,null,l.map(function(t){return r.a.createElement(J.a,{id:"panel-body",className:t.option==s.option?"groupitem":"",onClick:function(a){return e.onOptionClick(t)}},console.log("option is "+t.option+" and selecteoption is "+s.option),r.a.createElement("a",{href:"#",class:t.option==s.option?"groupitem":"panel-link"},t.option))}))),r.a.createElement("div",{class:"col-lg-9"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12 col-md-6 mb-4"},c)))))))}}]),t}(n.Component),W=Object(C.a)(Object(A.a)(M)),$=a(68),B=a(255),V=a(256),Y=a(259),_=a(258),X=(a(197),a(138)),Q=a(257),Z=a(42),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),g({email:a.state.email,password:a.state.password}).then(function(e){localStorage.setItem(p,e.accessToken),a.setState({redirect:!0})}).catch(function(e){console.log(e),401===e.status?Q.a.error({message:"Polling App",description:"Your Username or Password is incorrect. Please try again!"}):Q.a.error({message:"Polling App",description:e.message||"Sorry! Something went wrong. Please try again!"})})},a.state={redirect:!1,email:"",password:"",disabled:!1,submitted:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(Z.a,{to:"/"}):r.a.createElement(z.a,{backgroundColor:"#eee2dc"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,{controlId:"email",bsSize:"large"},r.a.createElement(V.a,null,"E-mail"),r.a.createElement(Y.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(B.a,{controlId:"password",bsSize:"large"},r.a.createElement(V.a,null,"Salas\xf5na"),r.a.createElement(Y.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(_.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Sisene"))),"If not a user, click ",r.a.createElement(X.a,{tag:j.a,to:"/signup"},r.a.createElement("span",{id:"navbar-link"},"here"))," to sign up"))}}]),t}(n.Component),te=Object(A.a)(ee),ae=(a(248),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object($.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){var t;e.preventDefault(),(t={email:a.state.email,password:a.state.password,username:a.state.username},h({url:d+"/api/auth/signup",method:"POST",body:JSON.stringify(t)})).then(function(e){g({email:a.state.email,password:a.state.password}).then(function(e){localStorage.setItem(p,e.accessToken),a.setState({redirect:!0})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},a.state={email:"",password:"",username:"",disabled:!1,submitted:!1,step:0,errorSteps:[],redirect:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.username.length>4&&this.state.username.length<20}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(Z.a,{to:"/"}):r.a.createElement(z.a,{backgroundColor:"#eee2dc"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Signup"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,{controlId:"email",bsSize:"large"},r.a.createElement(V.a,null,"E-mail"),r.a.createElement(Y.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(B.a,{controlId:"username",bsSize:"large"},r.a.createElement(V.a,null,"Kasutajanimi"),r.a.createElement(Y.a,{autoFocus:!0,type:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(B.a,{controlId:"password",bsSize:"large"},r.a.createElement(V.a,null,"Salas\xf5na"),r.a.createElement(Y.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(_.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit"},"Loo kasutaja")))))}}]),t}(n.Component)),ne=Object(A.a)(ae),re=(a(250),function(){return r.a.createElement(z.a,{backgroundColor:"#eee2dc"},r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!")))}),le=function(e){var t=e.childProps;return r.a.createElement(E.a,null,console.log(t.isAuthenticated),r.a.createElement(v.a,{exact:!0,path:"/",render:R}),r.a.createElement(v.a,{exact:!0,path:"/events",render:function(e){return!0===t.isAuthenticated?r.a.createElement(W,{isAuthenticated:t.isAuthenticated,currentUser:t.currentUser}):r.a.createElement(Z.a,{to:"/login"})}}),r.a.createElement(v.a,{exact:!0,path:"/login",render:te}),r.a.createElement(v.a,{exact:!0,path:"/signup",render:ne}),r.a.createElement(v.a,{component:re}))},se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).loadCurrentUser=function(){a.setState({isLoading:!0}),(localStorage.getItem(p)?h({url:d+"/api/v1/users/me",method:"GET"}):Promise.reject("No access token set.")).then(function(e){a.setState({currentUser:e,isAuthenticated:!0,isLoading:!1})}).catch(function(e){a.setState({isLoading:!1})})},a.userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You're successfully logged out.";localStorage.removeItem(p),a.setState({currentUser:null,isAuthenticated:!1}),Q.a[e]({message:"Polling App",description:t})},a.state={currentUser:null,isAuthenticated:!1,isLoading:!1,onLogOut:null},Q.a.config({placement:"topRight",top:70,duration:3}),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.loadCurrentUser()}},{key:"componentWillReceiveProps",value:function(e){this.loadCurrentUser()}},{key:"render",value:function(){var e=this.state;e.currentUser,e.isAuthenticated;if(e.isLoading)return r.a.createElement("p",null,"Loading...");var t={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated,isLoading:this.state.isLoading,currentUser:this.state.currentUser,onLogOut:this.handleLogout};return r.a.createElement("div",{className:"App"},r.a.createElement(L,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,onLogOut:this.handleLogout}),r.a.createElement(le,{childProps:t}))}}]),t}(n.Component),ce=Object(A.a)(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(252);var ie=a(260);s.a.render(r.a.createElement(ie.a,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports=a.p+"static/media/spiritisland.1b1a8f33.png"},88:function(e,t,a){e.exports=a.p+"static/media/pinkcircle2.c282eb57.svg"},97:function(e,t,a){}},[[144,2,1]]]);
//# sourceMappingURL=main.cf860617.chunk.js.map